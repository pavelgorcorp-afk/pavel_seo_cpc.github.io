<!DOCTYPE html>
<html>
<head>
    <title>Калькулятор Уровней 2025</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background: #f4f4f9; }
        .card { background: white; padding: 20px; border-radius: 10px; max-width: 400px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        input { width: 100%; padding: 10px; margin: 10px 0; box-sizing: border-box; }
        button { width: 100%; background: #4CAF50; color: white; padding: 10px; border: none; cursor: pointer; }
        .res { margin-top: 20px; white-space: pre-wrap; font-family: monospace; }
    </style>
</head>
<body>
    <div class="card">
        <h3>Калькулятор Ресурсов</h3>
        Введите кол-во уровней:
        <input type="number" id="levels" value="6">
        <button onclick="calc()">Рассчитать</button>
        <div id="result" class="res"></div>
    </div>

    <script>
        function calc() {
            let lvls = parseInt(document.getElementById('levels').value);
            let stepCosts = [10, 5, 10, 10, 0];
            let rate = 180;
            let out = "";

            let modes = [
                {n: "Супер гарантия (7 ш/ур)", type: "super"},
                {n: "Обычная (3 без/2 с гар)", type: "normal"},
                {n: "Без гарантий (14 ш/ур)", type: "none"}
            ];

            modes.forEach(m => {
                let steps = 0;
                if(m.type === "super") steps = lvls * 7;
                else if(m.type === "none") steps = lvls * 14;
                else {
                    for(let i=1; i<=lvls; i++) steps += (i % 5 <= 3 && i % 5 !== 0) ? 14 : 7;
                }

                let fullCycles = Math.floor(steps / 5);
                let remSteps = steps % 5;
                let cards = fullCycles * 35;
                for(let i=0; i<remSteps; i++) cards += stepCosts[i];

                out += `● ${m.n}\n Шагов: ${steps}\n Карточек: ${cards}\n Кристаллов: ${(cards*rate).toLocaleString()}\n\n`;
            });
            document.getElementById('result').innerText = out;
        }
    </script>
</body>
</html>